<div class="wrapper">
  <div class="auth__header">
    <h2 class="auth__header-title">Registration</h2>
    <a mat-button color="warn" routerLink="/log-in" class="auth__header__link"
    >Sign in</a
    >
  </div>
  <form [formGroup]="user" class="auth__form">
    <div *ngIf="getIsEmailInUse()" class="auth__error">
      <span>This email is already registered!</span>
    </div>
    <mat-form-field appearance="outline">
      <input
        matInput
        formControlName="username"
        autocomplete="username"
        placeholder="Username"
        type="text"
        id="username"
        (keyup.enter)="email.focus()"
      />
      <mat-icon matSuffix>account_circle</mat-icon>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <input
        matInput
        #email
        formControlName="email"
        placeholder="Email"
        autocomplete="email"
        type="email"
        id="email"
        (keyup.enter)="password.focus()"
      />
      <mat-icon matSuffix>mail</mat-icon>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <input
        matInput
        #password
        formControlName="password"
        placeholder="Password"
        autocomplete="password"
        [type]="hide ? 'password' : 'text'"
        id="password"
        (keyup.enter)="register()"
      />
      <button mat-icon-button matSuffix (click)="changeHide($event)" [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide">
        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
    </mat-form-field>
    <button
      mat-stroked-button
      (click)="register()"
      [disabled]="user.invalid"
      type="button"
    >
      Register
    </button>
  </form>
</div>
